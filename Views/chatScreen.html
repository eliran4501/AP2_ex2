<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link href="index.css" rel="stylesheet">
  <title>Chat Screen</title>

</head>

<body>
  <div id="greenBG">

    <div id="chatBoxBG1" class="rounded-3 border border-3 position-absolute top-50 start-50 translate-middle">

      <div id="leftPanel">

        <div class="position-relative idPanel">
          <img src="pic3.jpg"
            class="myProfilePics position-absolute top-50 start-0 translate-middle-y rounded-circle flex-shrink-0">
<<<<<<< HEAD
          <small id="currentUser" class="position-absolute top-50 start-50 translate-middle">Me</small>
          <a class="navbar-brand myProfilePics position-absolute top-50 end-0 translate-middle-y" href="#"><img
              src="addIcon.png" class="myProfilePics"></a>
=======
          <small class="position-absolute top-50 start-50 translate-middle">Me</small>


          <label for="addPerson" class="myProfilePics position-absolute top-50 end-0 translate-middle-y"
            style="cursor: pointer;"><i class="bi bi-person-plus"></i></label>
          <input id="addPerson" type="button" style="display:none;" data-bs-toggle="modal"
            data-bs-target="#exampleModal">

>>>>>>> 6d1fe6c749d40f2b663062be9cc498acbc2d6d34
        </div>



        <div class="list-group" style="height: 360px; overflow-y: scroll;">

          <a href="#" class="list-group-item list-group-item-action d-flex gap-3 py-3" aria-current="true">
            <img src="pic2.jpg" alt="twbs" class="picDim rounded-circle flex-shrink-0">
            <div class="d-flex gap-2 w-100 justify-content-between">
              <div>
                <h6 class="mb-1">Harry</h6>
                <small class="text-break">Last message.</small>
              </div>
              <small class="text-nowrap">3 days ago</small>
            </div>
          </a>

          <a href="#" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
              <img src="pic2.jpg" class="picDim rounded-circle flex-shrink-0">
              <h6 class="mb-1">Potter</h6>
              <small>5 days ago</small>
            </div>
            <small class="d-print-none">the secret spell is Abra kadabra</small>
          </a>

          <a href="#" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
              <img src="pic2.jpg" class="picDim rounded-circle flex-shrink-0">
              <h6 class="mb-1">Tom</h6>
              <small>1 days ago</small>
            </div>
            <small>how are you??</small>
          </a>
          <a href="#" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
              <img src="pic2.jpg" class="picDim rounded-circle flex-shrink-0">
              <h6 class="mb-1">Alice</h6>
              <small>3 days ago</small>
            </div>
            <small>Thanks</small>
          </a>
          <a href="#" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between">
              <img src="pic2.jpg" class="picDim rounded-circle flex-shrink-0">
              <h6 class="mb-1">Bob</h6>
              <small>3 days ago</small>
            </div>
            <small>bye</small>
          </a>

        </div>

      </div>
      <div id="rightPanel">

        <div class="idPanel position-relative">
          <img src="pic3.jpg"
            class="myProfilePics position-absolute top-50 start-0 translate-middle-y rounded-circle flex-shrink-0">
          <small class="position-absolute top-50 start-50 translate-middle">Harry</small>

        </div>

        <div id="chatBG" style="overflow-y: scroll">
          <div id="msgContainer"></div>
        </div>

        <div class="input-group input-group-sm mb-3" id="inputBox">
<<<<<<< HEAD
          <label for="inputIcon"><i class="bi bi-paperclip"></i></label>
=======
          <label for="inputIcon" style="cursor: pointer;"><img src="attachIcon.png" class="smallIcons"></label>
>>>>>>> 6d1fe6c749d40f2b663062be9cc498acbc2d6d34
          <input onclick="openButtons()" type="button" id="inputIcon">

          <div id="moreButtons" class="btn-group" role="group" aria-label="Basic outlined example"
            style="display: none;">

            <button id="micInput" type="button" class="btn btn-light btn-sm">
              <i class="bi bi-mic"></i></button>

            <button id="micInput2" type="button" class="btn btn-light btn-sm">
              <i class="bi bi-mic-mute"></i></button>

            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
            <label for="video-upload" class="custom-file-upload btn btn-light btn-sm">
              <i class="bi bi-camera-reels"></i></label>
            <input onclick="addFile()" id="video-upload" type="file" style="display:none;">

            <label for="img-upload" class="custom-file-upload btn btn-light btn-sm">
              <i class="bi bi-image"></i></label>
            <input onclick="addFile2()" id="img-upload" type="file" style="display:none;">

          </div>



          <input id="msgInput" type="text" class="form-control" placeholder="New messege here..."
            aria-label="Example text with button addon" aria-describedby="button-addon1">
          <button onclick="sendMessage()" class="btn btn-outline-secondary" type="button" id="sendMsgBtn">Send</button>
        </div>



        <script src="index.js"></script>

        <script lang="javascript">
<<<<<<< HEAD
          const myName = document.getElementById("currentUser");
          myName.innerHTML = currentLogin;
=======
          micInput.onclick = () => {
            navigator.mediaDevices.getUserMedia({ audio: true })
              .then(stream => {
                mediaRecorder = new MediaRecorder(stream)
                mediaRecorder.start()
                chunk = []

                mediaRecorder.addEventListener("dataavailable", e => {
                  chunk.push(e.data)
                })

                mediaRecorder.addEventListener("stop", e => {
                  blob = new Blob(chunk)
                  audioUrl = URL.createObjectURL(blob)
                  audio = new Audio(audioUrl)
                  audio.setAttribute("controls", 1)
                  msgContainer.appendChild(audio)

                })
              })
          }

          micInput2.onclick = () => {
            mediaRecorder.stop();
          }

          function sendMessage() {
            var myMsg = document.getElementById("msgInput").value;
            var msgContainer = document.getElementById("msgContainer");
            msgContainer.innerHTML += '<div style="display: block"><div class="myMessage">' + myMsg + '</div></div>';

          }
>>>>>>> 6d1fe6c749d40f2b663062be9cc498acbc2d6d34
          function openButtons() {
            var a = document.getElementById("moreButtons");
            if (a.style.display === "none") {
              a.style.display = "block";
            } else {
              a.style.display = "none";
            }
          }

          function addFile() {
            var file1 = document.getElementById("video-upload").value;
            var msgContainer = document.getElementById("msgContainer");
            msgContainer.innerHTML += '<div style="display: block"><i class="bi bi-file-earmark-fill"></i></div>';

          }
        </script>
      </div>



    </div>
  </div>
  <div id="grayBG"></div>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>

  <!---Modal for adding users-->

  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add new contact</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input class="form-control" type="text" placeholder="Enter contact's identifier"
            aria-label="default input example">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Add</button>
        </div>
      </div>
    </div>
  </div>
</body>

</html>